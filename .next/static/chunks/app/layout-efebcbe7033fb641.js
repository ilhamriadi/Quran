(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1423:function(a,e,t){Promise.resolve().then(t.t.bind(t,4671,23)),Promise.resolve().then(t.t.bind(t,3054,23)),Promise.resolve().then(t.bind(t,3095))},3095:function(a,e,t){"use strict";t.d(e,{QuranProvider:function(){return c},O:function(){return m}});var r=t(7437),n=t(2265),s=t(8472);class i{async getSurahs(){try{return(await this.axios.get("/chapters")).data.chapters.map(a=>({number:a.id,name:a.name_complex,englishName:a.name_simple,englishNameTranslation:a.translated_name.name,numberOfAyahs:a.verses_count,revelationType:a.revelation_place}))}catch(a){throw console.error("Error fetching surahs:",a),Error("Failed to fetch surahs")}}async getSurah(a){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let[e,t]=await Promise.all([this.axios.get("/chapters/".concat(a)),this.axios.get("/verses/by_chapter/".concat(a,"?language=en&word_fields=text_uthmani&translations=131&per_page=300"))]),r=e.data.chapter,n=t.data.verses;return{number:r.id,name:r.name_complex,englishName:r.name_simple,englishNameTranslation:r.translated_name.name,numberOfAyahs:r.verses_count,revelationType:r.revelation_place,ayahs:n.map(a=>{var e,t;return{number:a.id,numberInSurah:a.verse_number,text:a.text_uthmani,translation:null===(t=a.translations)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.text,juz:a.juz_number,manzil:a.manzil_number,page:a.page_number,ruku:a.ruku_number,hizbQuarter:a.hizb_number,sajda:null!==a.sajda}})}}catch(e){throw console.error("Error fetching surah:",e),Error("Failed to fetch surah ".concat(a))}}async searchQuery(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";try{return(await this.axios.get("/search",{params:{q:a,language:e,size:20}})).data.search}catch(a){throw console.error("Error searching:",a),Error("Failed to perform search")}}async getAudioReciters(){try{return(await this.axios.get("/resources/recitations",{params:{language:"en"}})).data.recitations}catch(a){throw console.error("Error fetching reciters:",a),Error("Failed to fetch audio reciters")}}getAudioUrl(a,e,t){return"https://cdn.islamic.network/quran/audio/128/".concat(a,"/").concat(e.toString().padStart(3,"0")).concat(t.toString().padStart(3,"0"),".mp3")}constructor(){this.axios=s.Z.create({baseURL:"https://api.quran.com/api/v4",timeout:1e4,headers:{"Content-Type":"application/json"}})}}let o=new i,u=(0,n.createContext)(void 0),l=[{id:"ar.alafasy",name:"Mishari Rashid Al-Afasy",arabicName:"مشاري بن راشد العفاسي",style:"Mujawwad",relativePath:"https://cdn.islamic.network/quran/audio/128/ar.alafasy/"},{id:"ar.abdulbasit",name:"Abdul Basit Abdus Samad",arabicName:"عبد الباسط عبد الصمد",style:"Mujawwad",relativePath:"https://cdn.islamic.network/quran/audio/128/ar.abdulbasit/"},{id:"ar.muhammadayyub",name:"Muhammad Ayyoub",arabicName:"محمد أيوب",style:"Mujawwad",relativePath:"https://cdn.islamic.network/quran/audio/128/ar.muhammadayyub/"},{id:"ar.sudais",name:"Abdur Rahman As-Sudais",arabicName:"عبدالرحمن السديس",style:"Murattal",relativePath:"https://cdn.islamic.network/quran/audio/128/ar.sudais/"}];function c(a){let{children:e}=a,[t,s]=(0,n.useState)([]),[i,c]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),[d,f]=(0,n.useState)(!0),[g,b]=(0,n.useState)(null),[p,y]=(0,n.useState)(!0),[_,v]=(0,n.useState)(!1),[S,w]=(0,n.useState)(l[0]),[k,N]=(0,n.useState)(18),[x,E]=(0,n.useState)([]);(0,n.useEffect)(()=>{let a=localStorage.getItem("quran-bookmarks");a&&E(JSON.parse(a));let e=localStorage.getItem("quran-settings");if(e){var t,r,n;let a=JSON.parse(e);y(null===(t=a.showTranslation)||void 0===t||t),v(null!==(r=a.showTafsir)&&void 0!==r&&r),N(null!==(n=a.fontSize)&&void 0!==n?n:18);let s=l.find(e=>e.id===a.reciterId);s&&w(s)}q()},[]),(0,n.useEffect)(()=>{x.length>0&&localStorage.setItem("quran-bookmarks",JSON.stringify(x))},[x]),(0,n.useEffect)(()=>{let a={showTranslation:p,showTafsir:_,fontSize:k,reciterId:S.id};localStorage.setItem("quran-settings",JSON.stringify(a))},[p,_,k,S]);let q=async()=>{try{f(!0);let a=await o.getSurahs();s(a),b(null)}catch(a){b("Gagal memuat daftar surah"),console.error("Error loading surahs:",a)}finally{f(!1)}},A=async a=>{try{f(!0);let e=await o.getSurah(a);c(e),h(e.ayahs||[]),b(null)}catch(a){b("Gagal memuat surah"),console.error("Error loading surah:",a)}finally{f(!1)}};return(0,r.jsx)(u.Provider,{value:{surahs:t,currentSurah:i,currentAyahs:m,loading:d,error:g,showTranslation:p,showTafsir:_,selectedReciter:S,fontSize:k,reciters:l,loadSurahs:q,loadSurah:A,toggleTranslation:()=>{y(a=>!a)},toggleTafsir:()=>{v(a=>!a)},setReciter:a=>{w(a)},setFontSize:N,bookmarks:x,addBookmark:(a,e,r)=>{let n=t.find(e=>e.number===a),s=m.find(a=>a.numberInSurah===e);if(!n||!s)return;let i={id:"".concat(a,"-").concat(e,"-").concat(Date.now()),surahNumber:a,ayahNumber:e,surahName:n.name,ayahText:s.text,timestamp:Date.now(),note:r};E(a=>[...a,i])},removeBookmark:a=>{E(e=>e.filter(e=>e.id!==a))},isBookmarked:(a,e)=>x.some(t=>t.surahNumber===a&&t.ayahNumber===e)},children:e})}function m(){let a=(0,n.useContext)(u);if(void 0===a)throw Error("useQuran must be used within a QuranProvider");return a}},3054:function(){},4671:function(a){a.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(a){a.O(0,[93,472,971,23,744],function(){return a(a.s=1423)}),_N_E=a.O()}]);